<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Partie 1</title>
    <style media="screen">
      h1{color: orange;}
      h3{
        color: rgb(255,100,100);
      }
       li{
        color: white;
        margin-top: 1em;
      }
      h4{
        color: red;
        margin-top: -1.8em;}
    </style>
    <h1>Base du PL/SQL</h1>
    <h4>Module 1</h4>
  </head>
  <body>
      <ol type="A">
        <li> <mark> Créer un bloc PL/SQL pour insérer un nouveau département dans la table DEPARTEMENTS </mark></li>
        <ol type="a">
          <li>Utiliser  la séquence DEPT_ID_SEQ pour générer un numéro de département. Créer
             un paramètre pour  le nom du département. Laisser le numéro de région à NULL</li>
          <li>Exécuter le bloc PL/SQL avec la valeur “Santé” pour le nom du département. </li>
          <li> Afficher le nouveau département créé</li>
        </ol>

        <li><mark>Créer un bloc PL/SQL pour supprimer le département créé précédemment </mark></li>
        <ol>
          <li>Créer un paramètre pour le numéro de département. Faire afficher
             à l’écran le nombre de lignes affectées. </li>
          <li>Tester le bloc. Que se passe-t-il si on saisit un numéro de département qui n’existe pas? <br>
          Si on saisit un numéro de département qui a des employés? <br>
         Tester le bloc avec le département Santé. <br> <br>
          Vérifier que le département n’existe plus </li> <br>
        </ol>

        <li><mark>Créer un bloc PL/SQL permettant de mettre à jour le pourcentage de commission d’un employé en fonction du nombre de changement de Job </mark> </li>
        <ol>
          <li>Créer un paramètre qui reçoit un numéro d’employé <br>

      Trouver le nombre totale de changement de JOB de cet employé <br>
      Mettre à jour le pourcentage de commission de l’employé : <br>
 - si le nombre est inférieure à 2 passer la commission à 0.10 <br>
 - si le nombre est compris entre 2 et 5 inclus passer la commission à 0.15 <br>
 - si le nombre excède 5 passer la commission à 0.20 <br>
 - si cet employé n'a jamais éffectué de JOB, mettre la commission à 0.0 <br>
      Valider la modification (commit)
            </li>
          <li>Tester le bloc et visualiser les résultats (on teste avec les employés 101,102,176,110)</li>
        </ol>

        <li><mark>Créer un bloc PL/SQL qui boucle pour chaque Département  afin de modifier  le code de solvabilité de tous les employés. Ne pas valider (pas de commit).</mark><br>
          (Pour cet exercice, ajouter la colonne SOLVABILITE a la table employees) <br> <br>
          Si  le numéro de Département est pair mettre  la solvabilité à EXCELLENTE, sinon mettre à BONNE pour les numéros de Département impairs. <br> <br>
      Une fois les lignes modifiées, trouvez combien de lignes ont été mises à jour. <br> <br>
     Afficher les résultats suivants en fonction du nombre de lignes modifiées : <br>
     <ul>
       <li>Si  moins  de  trois  lignes  ont  été  modifiées,  afficher  :  ‘Moins  de  trois  lignes  ont  été  modifiées pour la région x’ (x étant le numéro de la région).</li>
       <li>Sinon afficher  :  ‘y  lignes ont été modifiées pour  la  région x’(y étant  le nombre de  lignes modifiées).</li>
     </ul>
     Pour ce exercice ajouter une colonne solvability a la table employees <br>
     Annuler les modifications  (rollback).  </li>

     <li> <mark>Créer un bloc PL/SQL qui détermine les employés de plus haut salaire. </mark> </li>
     <ol>
       <li>Créer pour cet exercice une nouvelle table pour stocker les employés et leurs salaires </li>
       <li>Utiliser un paramètre pour prendre une valeur n en entrée pour identifier les n meilleurs.<br> <br>
         Ecrire une boucle WHILE  avec  curseur pour  récupérer  le nom  et  salaire des n meilleurs  employés  selon  leur salaire dans la table EMPLOYEES <br>

         Enregistrer les noms et salaires dans la table MEILLEURS.  <br>

       </li>
       <li>Tester le bloc avec différents cas tels que n=0 ou n supérieur au nombre total d’employés (25).
          <br> Vider  la table MEILLEURS après chaque test.
       </li>
     </ol>
      </ol>

  </body>
</html>
